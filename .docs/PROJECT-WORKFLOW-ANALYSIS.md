# ðŸ”¬ AI STORE BUILDER â€” ØªØ­Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ§Øª

> **Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 2026-02-09  
> **Ø§Ù„Ø­Ø§Ù„Ø©:** Production-Ready Architecture + Genius Grade Design System v2.0

---

## ðŸ“‘ ÙÙ‡Ø±Ø³ Ø§Ù„ØªØ­Ù„ÙŠÙ„

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#-Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©-Ø¹Ù„Ù‰-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
2. [Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©](#-Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©-Ø§Ù„ØªÙ‚Ù†ÙŠØ©)
3. [Frontend Stack](#-frontend-stack--react-19)
4. [Backend Stack](#-backend-stack--fastapi-python-312)
5. [Database Architecture](#-database-architecture)
6. [Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„](#-Ø³ÙŠØ±-Ø§Ù„Ø¹Ù…Ù„-Ø§Ù„ÙƒØ§Ù…Ù„-workflow)
7. [Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ù€ AI](#-Ù†Ø¸Ø§Ù…-Ø§Ù„ØªÙˆÙ„ÙŠØ¯-Ø¨Ø§Ù„Ù€-ai)
8. [Development Workflow](#-development-workflow)
9. [Deployment Strategy](#-deployment-strategy)
10. [Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ©](#-Ø§Ù„Ø£Ù†Ø¸Ù…Ø©-Ø§Ù„ÙØ±Ø¹ÙŠØ©)
11. [Design System v2.0](#-design-system-v20--genius-grade)
12. [Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©](#-Ø®Ø·Ø©-Ø§Ù„ØªØ·ÙˆÙŠØ±-Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©)

---

## ðŸŽ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  ðŸ§  AI Store Builder = "Ø³Ù„Ø©/Ø²Ø¯" Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ            â”‚
â”‚                                                                â”‚
â”‚  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙ‚ÙˆÙ„: "Ø£Ø¨ÙŠ Ù…ØªØ¬Ø± Ø¹Ø·ÙˆØ± Ø¹Ø±Ø¨ÙŠØŒ Ø¯ÙØ¹ Ù…Ø¯Ù‰ØŒ Ø´Ø­Ù† Ø£Ø±Ø§Ù…ÙƒØ³"  â”‚
â”‚           â†“                                                    â”‚
â”‚  AI ÙŠÙˆÙ„Ù‘Ø¯:  Ù…ØªØ¬Ø± ÙƒØ§Ù…Ù„ + ØªØµÙ…ÙŠÙ… + Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª + ØµÙØ­Ø§Øª              â”‚
â”‚           â†“                                                    â”‚
â”‚  Ø§Ù„Ù†ØªÙŠØ¬Ø©:  Ù…ØªØ¬Ø± Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø´Ø± ÙÙŠ Ø¯Ù‚Ø§Ø¦Ù‚                          â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

| Ø§Ù„Ù…ÙŠØ²Ø©                 | Ø§Ù„ÙˆØµÙ                                             | Ø§Ù„Ø­Ø§Ù„Ø©         |
| ---------------------- | ------------------------------------------------- | -------------- |
| **Multi-tenant**       | ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù… = Ù…Ù†Ø¸Ù…Ø© Ù…Ù†ÙØµÙ„Ø©                          | âœ… Ù…ÙƒØªÙ…Ù„       |
| **12 Ù‚Ø§Ù„Ø¨ Ø§Ø­ØªØ±Ø§ÙÙŠ**    | Ø£Ø²ÙŠØ§Ø¡ØŒ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§ØªØŒ ØªØ¬Ù…ÙŠÙ„ØŒ Ø·Ø¹Ø§Ù…ØŒ Ù…Ø¬ÙˆÙ‡Ø±Ø§ØªØŒ Ø±ÙŠØ§Ø¶Ø©... | âœ… Ù…ÙƒØªÙ…Ù„       |
| **21+ Ù‚Ø³Ù… Ø³Ø­Ø¨ ÙˆØ¥ÙÙ„Ø§Øª** | Hero, Products, Testimonials, FAQ, Countdown...   | âœ… Ù…ÙƒØªÙ…Ù„       |
| **AI Chat Builder**    | ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø± Ø¹Ø¨Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©                         | âœ… Ù…ÙƒØªÙ…Ù„       |
| **RTL Arabic-first**   | Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø¹Ø±Ø¨ÙŠ Ø£ÙˆÙ„Ø§Ù‹                          | âœ… Ù…ÙƒØªÙ…Ù„       |
| **Dark Theme**         | ØªØµÙ…ÙŠÙ… Ø¯Ø§ÙƒÙ† Ø§Ø­ØªØ±Ø§ÙÙŠ (Genius Grade)                 | âœ… Ù…ÙƒØªÙ…Ù„ v2.0  |
| **Responsive**         | 320px â†’ 2560px                                    | âœ… Ù…ÙƒØªÙ…Ù„       |
| **Background Jobs**    | ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©                          | âœ… Ù…ÙƒØªÙ…Ù„ (ARQ) |

---

## ðŸ—ï¸ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Architecture Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CLIENT LAYER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚  AI Builder  â”‚  â”‚  Storefront  â”‚             â”‚
â”‚  â”‚  (React 19)  â”‚  â”‚  (React 19)  â”‚  â”‚  (Generated) â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ HTTP/REST        â”‚ WebSocket (future) â”‚
          â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       API GATEWAY LAYER                             â”‚
â”‚                        FastAPI 0.115+                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   CORS + Security                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ðŸ›¡ï¸ MIDDLEWARE PIPELINE                          â”‚   â”‚
â”‚  â”‚  JWT Auth â†’ Tenant Filter â†’ Rate Limit â†’ Error Handler     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Auth â”‚ â”‚Tenantâ”‚ â”‚Storesâ”‚ â”‚ Jobs â”‚ â”‚ AI   â”‚ â”‚Prevw â”‚ â”‚Uploadâ”‚  â”‚
â”‚  â”‚Routerâ”‚ â”‚Routerâ”‚ â”‚Routerâ”‚ â”‚Routerâ”‚ â”‚Routerâ”‚ â”‚Routerâ”‚ â”‚Routerâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL    â”‚    â”‚      Redis      â”‚    â”‚   ARQ Worker    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚   â€¢ tenants     â”‚    â”‚   â€¢ sessions    â”‚    â”‚   â€¢ generate    â”‚
â”‚   â€¢ users       â”‚    â”‚   â€¢ cache       â”‚    â”‚     store       â”‚
â”‚   â€¢ stores      â”‚    â”‚   â€¢ job queue   â”‚    â”‚   â€¢ AI calls    â”‚
â”‚   â€¢ products    â”‚    â”‚   â€¢ rate limit  â”‚    â”‚   â€¢ webhooks    â”‚
â”‚   â€¢ orders      â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚   â€¢ categories  â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚   â€¢ jobs        â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Technology Stack (Ù…ÙØµÙ‘Ù„)

#### Core Technologies

| Layer          | Technology  | Version     | Purpose           |
| -------------- | ----------- | ----------- | ----------------- |
| **Runtime**    | Python      | 3.12        | Backend language  |
| **Framework**  | FastAPI     | 0.115+      | API gateway       |
| **ORM**        | SQLAlchemy  | 2.0 (async) | Database access   |
| **Validation** | Pydantic    | v2          | Schema validation |
| **DB**         | PostgreSQL  | 16          | Primary database  |
| **Cache**      | Redis       | 7           | Cache + queue     |
| **Queue**      | ARQ         | latest      | Background jobs   |
| **Auth**       | python-jose | latest      | JWT tokens        |
| **Hashing**    | bcrypt      | latest      | Password hashing  |

#### Frontend Technologies

| Category          | Technology      | Version | Purpose              |
| ----------------- | --------------- | ------- | -------------------- |
| **Runtime**       | React           | 19.2.0  | UI library           |
| **Language**      | TypeScript      | 5.9     | Type safety          |
| **Build Tool**    | Vite            | 7.2.4   | Dev server + bundler |
| **CSS**           | Tailwind CSS    | v4.1.18 | Styling (CSS-first)  |
| **State**         | Zustand         | 5.0.11  | Global state         |
| **Data Fetching** | TanStack Query  | 5.90.20 | Server state         |
| **Routing**       | React Router    | 7.13.0  | Client routing       |
| **Animation**     | Framer Motion   | 12.33.0 | UI animations        |
| **Icons**         | Lucide React    | 0.563.0 | Icons (1000+)        |
| **Toasts**        | react-hot-toast | 2.6.0   | Notifications        |
| **DnD**           | dnd-kit         | 6.3.1   | Drag and drop        |
| **HTTP**          | Axios           | 1.13.4  | API client           |

#### Infrastructure

| Component           | Technology       | Purpose                |
| ------------------- | ---------------- | ---------------------- |
| **Container**       | Docker + Compose | Local dev + deployment |
| **CI/CD**           | GitHub Actions   | Automated testing      |
| **Proxy**           | Vite Proxy       | Dev API proxy          |
| **Migrations**      | Alembic          | DB schema changes      |
| **Package Manager** | UV (Rust)        | 100x faster than pip   |

---

## ðŸ’» Frontend Stack â€” React 19

### Project Structure

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/                    # 9 ØµÙØ­Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚   â”‚   â”œâ”€â”€ Landing.tsx           #   Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚   â”‚   â”œâ”€â”€ Login.tsx             #   ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
â”‚   â”‚   â”œâ”€â”€ Register.tsx          #   Ø§Ù„ØªØ³Ø¬ÙŠÙ„
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx         #   Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (394 Ø³Ø·Ø±)
â”‚   â”‚   â”œâ”€â”€ CreateStore.tsx       #   Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØ¬Ø±
â”‚   â”‚   â”œâ”€â”€ AIBuilder.tsx         #   Ù…Ø­Ø±Ø± AI (572 Ø³Ø·Ø±)
â”‚   â”‚   â”œâ”€â”€ StoreDetail.tsx       #   ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±
â”‚   â”‚   â”œâ”€â”€ EditStore.tsx         #   ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±
â”‚   â”‚   â””â”€â”€ NotFound.tsx          #   404
â”‚   â”‚
â”‚   â”œâ”€â”€ components/               # Ù…ÙƒÙˆÙ†Ø§Øª UI
â”‚   â”‚   â”œâ”€â”€ editor/               #   Ù…Ø­Ø±Ø± Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
â”‚   â”‚   â”‚   â”œâ”€â”€ Canvas.tsx        #   Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø³Ù…
â”‚   â”‚   â”‚   â”œâ”€â”€ SectionLibrary.tsx#  Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
â”‚   â”‚   â”‚   â”œâ”€â”€ PropertiesPanel.tsx# Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø¹Ù†ØµØ±
â”‚   â”‚   â”‚   â””â”€â”€ DeviceSwitcher.tsx#  ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
â”‚   â”‚   â”œâ”€â”€ layout/               #   Layout components
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx       #   Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx        #   Ø§Ù„Ø±Ø£Ø³
â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx        #   Ø§Ù„Ø°ÙŠÙ„
â”‚   â”‚   â””â”€â”€ ui/                   #   UI primitives
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                     # Templates & Sections
â”‚   â”‚   â”œâ”€â”€ templates.ts          #   12 Ù‚Ø§Ù„Ø¨ Ø§Ø­ØªØ±Ø§ÙÙŠ
â”‚   â”‚   â””â”€â”€ sections.ts           #   21+ Ù‚Ø³Ù… Ø³Ø­Ø¨ ÙˆØ¥ÙÙ„Ø§Øª
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                      # Utilities
â”‚   â”‚   â”œâ”€â”€ api.ts                #   Axios client + interceptors
â”‚   â”‚   â””â”€â”€ utils.ts              #   Helper functions
â”‚   â”‚
â”‚   â”œâ”€â”€ context/                  # React Context
â”‚   â”‚   â””â”€â”€ AuthContext.tsx       #   Auth state
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                    # TypeScript types
â”‚   â”‚   â”œâ”€â”€ store.ts              #   Store interfaces
â”‚   â”‚   â”œâ”€â”€ user.ts               #   User interfaces
â”‚   â”‚   â””â”€â”€ api.ts                #   API responses
â”‚   â”‚
â”‚   â”œâ”€â”€ index.css                 # Tailwind v4 + Design System (700+ Ø³Ø·Ø±)
â”‚   â”œâ”€â”€ main.tsx                  # Entry point
â”‚   â””â”€â”€ App.tsx                   # Root component
â”‚
â”œâ”€â”€ vite.config.ts                # Vite configuration
â”œâ”€â”€ tsconfig.json                 # TypeScript config
â””â”€â”€ package.json                  # Dependencies
```

### Routing Structure

```tsx
Routes:
/                       â†’ Landing        (Marketing)
/login                  â†’ Login          (Auth)
/register               â†’ Register       (Auth)
/dashboard              â†’ Dashboard      (Protected)
/stores/create          â†’ CreateStore    (Protected)
/stores/ai-builder      â†’ AIBuilder      (Protected)
/stores/:id             â†’ StoreDetail    (Protected)
/stores/:id/edit        â†’ EditStore      (Protected)
*                       â†’ NotFound       (Fallback)
```

### State Management

```typescript
// Zustand Store Structure
interface AppState {
  // Auth
  user: User | null;
  token: string | null;
  isAuthenticated: boolean;

  // Stores
  stores: Store[];
  currentStore: Store | null;

  // UI
  sidebar: boolean;
  theme: "dark" | "light";

  // Actions
  login: (token: string, user: User) => void;
  logout: () => void;
  setStores: (stores: Store[]) => void;
  toggleSidebar: () => void;
}
```

### API Client (Axios)

```typescript
// lib/api.ts
const apiClient = axios.create({
  baseURL: import.meta.env.VITE_API_URL || "/api/v1",
  headers: {
    "Content-Type": "application/json",
  },
});

// Request Interceptor: Ø¥Ø¶Ø§ÙØ© JWT
apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem("token");
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Response Interceptor: Ù…Ø¹Ø§Ù„Ø¬Ø© 401
apiClient.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Redirect to login
      window.location.href = "/login";
    }
    return Promise.reject(error);
  },
);
```

### Templates & Sections

```typescript
// 12 Templates Available
templates = [
  "fashion", // Ø£Ø²ÙŠØ§Ø¡
  "electronics", // Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª
  "beauty", // ØªØ¬Ù…ÙŠÙ„
  "food", // Ø·Ø¹Ø§Ù…
  "jewelry", // Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª
  "sports", // Ø±ÙŠØ§Ø¶Ø©
  "furniture", // Ø£Ø«Ø§Ø«
  "books", // ÙƒØªØ¨
  "toys", // Ø£Ù„Ø¹Ø§Ø¨
  "pharmacy", // ØµÙŠØ¯Ù„ÙŠØ©
  "flowers", // Ø²Ù‡ÙˆØ±
  "services", // Ø®Ø¯Ù…Ø§Øª
];

// 21+ Sections Available
sections = [
  "hero", // Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨Ø·Ù„
  "products", // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  "features", // Ø§Ù„Ù…ÙŠØ²Ø§Øª
  "testimonials", // Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
  "faq", // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
  "countdown", // Ø¹Ø¯Ø§Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ
  "gallery", // Ù…Ø¹Ø±Ø¶ ØµÙˆØ±
  "newsletter", // Ø§Ø´ØªØ±Ø§Ùƒ Ø¨Ø±ÙŠØ¯ÙŠ
  "pricing", // Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
  "team", // ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„
  "stats", // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  "cta", // Ø¯Ø¹ÙˆØ© Ù„Ø¥Ø¬Ø±Ø§Ø¡
  "contact", // Ø§ØªØµÙ„ Ø¨Ù†Ø§
  "map", // Ø®Ø±ÙŠØ·Ø©
  "video", // ÙÙŠØ¯ÙŠÙˆ
  "blog", // Ù…Ø¯ÙˆÙ†Ø©
  "categories", // Ø§Ù„ÙØ¦Ø§Øª
  "brands", // Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª
  "instagram", // Ø§Ù†Ø³ØªØºØ±Ø§Ù…
  "whatsapp", // ÙˆØ§ØªØ³Ø§Ø¨
  "social", // Ø±ÙˆØ§Ø¨Ø· Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©
];
```

---

## âš™ï¸ Backend Stack â€” FastAPI + Python 3.12

### Project Structure

```
app/
â”œâ”€â”€ main.py                       # FastAPI app + CORS + middleware
â”œâ”€â”€ config.py                     # Settings (pydantic-settings)
â”œâ”€â”€ database.py                   # SQLAlchemy engine + sessions
â”‚
â”œâ”€â”€ api/                          # Route handlers (13 Ù…Ù„Ù)
â”‚   â”œâ”€â”€ health.py                 #   Health check + version
â”‚   â”œâ”€â”€ auth.py                   #   Register, login, refresh, me
â”‚   â”œâ”€â”€ tenants.py                #   Tenant CRUD
â”‚   â”œâ”€â”€ stores.py                 #   Store generation + CRUD
â”‚   â”œâ”€â”€ jobs.py                   #   Job tracking
â”‚   â”œâ”€â”€ ai_chat.py                #   AI chat for store edits
â”‚   â”œâ”€â”€ preview.py                #   Store preview + HTML export
â”‚   â”œâ”€â”€ uploads.py                #   File upload (images)
â”‚   â”œâ”€â”€ products.py               #   Product CRUD
â”‚   â”œâ”€â”€ categories.py             #   Category CRUD
â”‚   â”œâ”€â”€ orders.py                 #   Order management
â”‚   â””â”€â”€ payments.py               #   Payment processing (stub)
â”‚
â”œâ”€â”€ models/                       # SQLAlchemy ORM (7 models)
â”‚   â”œâ”€â”€ base.py                   #   Base with tenant_id + UUID7
â”‚   â”œâ”€â”€ tenant.py                 #   Tenant (organization)
â”‚   â”œâ”€â”€ user.py                   #   User + roles
â”‚   â”œâ”€â”€ store.py                  #   Store + config (JSONB)
â”‚   â”œâ”€â”€ job.py                    #   Job tracking
â”‚   â”œâ”€â”€ product.py                #   Product
â”‚   â”œâ”€â”€ category.py               #   Category
â”‚   â””â”€â”€ order.py                  #   Order
â”‚
â”œâ”€â”€ schemas/                      # Pydantic validation
â”‚   â”œâ”€â”€ auth.py                   #   Token, Login, Register
â”‚   â”œâ”€â”€ tenant.py                 #   TenantCreate, TenantUpdate
â”‚   â”œâ”€â”€ store.py                  #   StoreGenerate, StoreResponse
â”‚   â”œâ”€â”€ job.py                    #   JobStatus, JobProgress
â”‚   â”œâ”€â”€ product.py                #   ProductCreate, ProductUpdate
â”‚   â””â”€â”€ order.py                  #   OrderCreate, OrderResponse
â”‚
â”œâ”€â”€ middleware/                   # Custom middleware
â”‚   â”œâ”€â”€ auth.py                   #   JWT verification
â”‚   â”œâ”€â”€ tenant.py                 #   Tenant isolation filter
â”‚   â””â”€â”€ rate_limit.py             #   Rate limiting (slowapi)
â”‚
â”œâ”€â”€ services/                     # Business logic
â”‚   â”œâ”€â”€ auth_service.py           #   Authentication logic
â”‚   â”œâ”€â”€ tenant_service.py         #   Tenant management
â”‚   â”œâ”€â”€ store_generator.py       #   AI store generation
â”‚   â””â”€â”€ openai_service.py         #   OpenAI integration
â”‚
â”œâ”€â”€ workers/                      # Background jobs
â”‚   â””â”€â”€ store_worker.py           #   ARQ worker for generation
â”‚
â””â”€â”€ utils/                        # Helpers
    â”œâ”€â”€ security.py               #   Password hashing, JWT
    â””â”€â”€ validators.py             #   Custom validators
```

### API Endpoints (Ù…ÙØµÙŽÙ‘Ù„)

#### Authentication Endpoints

| Method | Path                    | Auth  | Description              |
| ------ | ----------------------- | :---: | ------------------------ |
| `POST` | `/api/v1/auth/register` |   -   | Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ + Ù…Ù†Ø¸Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© |
| `POST` | `/api/v1/auth/login`    |   -   | ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ (JWT)         |
| `POST` | `/api/v1/auth/refresh`  | Token | ØªØ¬Ø¯ÙŠØ¯ Token              |
| `GET`  | `/api/v1/auth/me`       | Token | Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ   |

#### Tenant Endpoints

| Method  | Path                      | Auth  | Description            |
| ------- | ------------------------- | :---: | ---------------------- |
| `GET`   | `/api/v1/tenants/current` | Token | Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© |
| `PATCH` | `/api/v1/tenants/current` | Owner | ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†Ø¸Ù…Ø©          |

#### Store Endpoints

| Method   | Path                      | Auth  | Description          |
| -------- | ------------------------- | :---: | -------------------- |
| `POST`   | `/api/v1/stores/generate` | Token | ØªÙˆÙ„ÙŠØ¯ Ù…ØªØ¬Ø± Ø¬Ø¯ÙŠØ¯ (AI) |
| `GET`    | `/api/v1/stores`          | Token | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø±        |
| `GET`    | `/api/v1/stores/{id}`     | Token | ØªÙØ§ØµÙŠÙ„ Ù…ØªØ¬Ø±          |
| `PATCH`  | `/api/v1/stores/{id}`     | Owner | ØªØ­Ø¯ÙŠØ« Ù…ØªØ¬Ø±           |
| `DELETE` | `/api/v1/stores/{id}`     | Owner | Ø­Ø°Ù Ù…ØªØ¬Ø±             |

#### AI Endpoints

| Method | Path              | Auth  | Description             |
| ------ | ----------------- | :---: | ----------------------- |
| `POST` | `/api/v1/ai/chat` | Token | Ù…Ø­Ø§Ø¯Ø«Ø© AI Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø± |

#### Job Endpoints

| Method | Path                | Auth  | Description     |
| ------ | ------------------- | :---: | --------------- |
| `GET`  | `/api/v1/jobs/{id}` | Token | Ø­Ø§Ù„Ø© Ù…Ù‡Ù…Ø© Ù…Ø­Ø¯Ø¯Ø© |
| `GET`  | `/api/v1/jobs`      | Token | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…    |

#### Preview Endpoints

| Method | Path                             | Auth  | Description   |
| ------ | -------------------------------- | :---: | ------------- |
| `GET`  | `/api/v1/preview/{id}`           | Token | Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…ØªØ¬Ø± |
| `POST` | `/api/v1/preview/{id}/save-html` | Token | Ø­ÙØ¸ HTML      |

---

## ðŸ—„ï¸ Database Architecture

### Tables Schema

```sql
-- TENANTS (Ø§Ù„Ù…Ù†Ø¸Ù…Ø§Øª)
CREATE TABLE tenants (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  name VARCHAR(255) NOT NULL,
  slug VARCHAR(100) UNIQUE NOT NULL,
  plan VARCHAR(20) DEFAULT 'free',  -- free, pro, enterprise
  max_stores INTEGER DEFAULT 3,
  is_active BOOLEAN DEFAULT true,
  settings JSONB DEFAULT '{}',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- USERS (Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†)
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  email VARCHAR(255) UNIQUE NOT NULL,
  hashed_password VARCHAR(255) NOT NULL,
  full_name VARCHAR(255),
  role VARCHAR(20) DEFAULT 'owner',  -- owner, admin, staff
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- STORES (Ø§Ù„Ù…ØªØ§Ø¬Ø±)
CREATE TABLE stores (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  slug VARCHAR(100) NOT NULL,
  store_type VARCHAR(50),  -- template type
  language VARCHAR(2) DEFAULT 'ar',
  config JSONB DEFAULT '{}',  -- Store settings, theme, sections
  status VARCHAR(20) DEFAULT 'draft',  -- draft, published, archived
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE (tenant_id, slug)
);

-- JOBS (Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø®Ù„ÙÙŠØ©)
CREATE TABLE jobs (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  store_id UUID REFERENCES stores(id) ON DELETE SET NULL,
  type VARCHAR(50) NOT NULL,  -- generate_store, ai_chat, export_html
  status VARCHAR(20) DEFAULT 'queued',  -- queued, running, done, failed
  progress INTEGER DEFAULT 0,  -- 0-100
  result JSONB DEFAULT '{}',
  error TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  started_at TIMESTAMP,
  completed_at TIMESTAMP
);

-- PRODUCTS (Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª)
CREATE TABLE products (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  store_id UUID REFERENCES stores(id) ON DELETE CASCADE,
  category_id UUID REFERENCES categories(id) ON DELETE SET NULL,
  name VARCHAR(255) NOT NULL,
  slug VARCHAR(100) NOT NULL,
  description TEXT,
  price DECIMAL(10, 2) NOT NULL,
  compare_price DECIMAL(10, 2),
  images JSONB DEFAULT '[]',
  stock INTEGER DEFAULT 0,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- CATEGORIES (Ø§Ù„ÙØ¦Ø§Øª)
CREATE TABLE categories (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  store_id UUID REFERENCES stores(id) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  slug VARCHAR(100) NOT NULL,
  parent_id UUID REFERENCES categories(id) ON DELETE SET NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ORDERS (Ø§Ù„Ø·Ù„Ø¨Ø§Øª)
CREATE TABLE orders (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v7(),
  tenant_id UUID REFERENCES tenants(id) ON DELETE CASCADE,
  store_id UUID REFERENCES stores(id) ON DELETE CASCADE,
  order_number VARCHAR(50) UNIQUE NOT NULL,
  customer_name VARCHAR(255) NOT NULL,
  customer_email VARCHAR(255),
  customer_phone VARCHAR(50),
  total DECIMAL(10, 2) NOT NULL,
  status VARCHAR(20) DEFAULT 'pending',
  payment_status VARCHAR(20) DEFAULT 'unpaid',
  items JSONB DEFAULT '[]',
  shipping_address JSONB DEFAULT '{}',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### Multi-Tenancy Strategy

```python
# ÙƒÙ„ Ø¬Ø¯ÙˆÙ„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ tenant_id
# SQLAlchemy Base Model:

class TenantBase(Base):
    __abstract__ = True
    tenant_id = Column(UUID, ForeignKey('tenants.id'), nullable=False, index=True)

# Middleware ÙŠØ³ØªØ®Ø±Ø¬ tenant Ù…Ù† JWT ÙˆÙŠÙÙ„ØªØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:

@app.middleware("http")
async def tenant_isolation(request: Request, call_next):
    token = request.headers.get("authorization")
    tenant_id = decode_jwt(token).get("tenant_id")
    request.state.tenant_id = tenant_id
    return await call_next(request)

# ÙƒÙ„ query ÙŠØªÙÙ„ØªØ±:
stores = await db.query(Store).filter(
    Store.tenant_id == request.state.tenant_id
).all()
```

---

## ðŸ”„ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ (Workflow)

### 1. User Registration Flow

```
1. User â†’ POST /api/v1/auth/register
   Body: { email, password, tenant_name, full_name }

2. Backend:
   a. Create tenant record
   b. Create user record (owner role)
   c. Hash password (bcrypt)
   d. Generate JWT (access + refresh)

3. Response: { user, tenant, access_token, refresh_token }

4. Frontend:
   - Save token to localStorage
   - Redirect to /dashboard
```

### 2. Store Generation Flow (AI)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STORE GENERATION WORKFLOW                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: User Input (CreateStore.tsx)
  â†“
  User selects:
  - Template (fashion/electronics/etc.)
  - Store name
  - Optional: description
  â†“
Step 2: POST /api/v1/stores/generate
  Body: {
    name: "Ù…ØªØ¬Ø± Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„ÙØ§Ø®Ø±Ø©",
    store_type: "beauty",
    description: "Ø¹Ø·ÙˆØ± Ø¹Ø±Ø¨ÙŠØ© Ø£ØµÙ„ÙŠØ©"
  }
  â†“
Step 3: API Handler (stores.py)
  - Validate input
  - Create job record (status: queued)
  - Enqueue to ARQ worker
  - Return job_id
  â†“
Step 4: ARQ Worker (store_worker.py)
  - Update job (status: running, progress: 0)
  - Load template
  - Call OpenAI API:
      Prompt: "Generate sections for {description}"
  - Update job (progress: 50)
  - Customize sections based on AI response
  - Update job (progress: 75)
  - Create store record in DB
  - Update job (status: done, progress: 100, result: store_id)
  â†“
Step 5: Frontend Polling (TanStack Query)
  - Poll GET /api/v1/jobs/{job_id} every 2s
  - Show progress bar
  - When done: redirect to /stores/ai-builder?store={store_id}
  â†“
Step 6: AI Builder (AIBuilder.tsx)
  - Load store config
  - Render canvas with sections
  - Enable chat-based editing
```

### 3. AI Chat Flow

```
1. User types in chat: "Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø²Ø±Ù‚Ø§Ø¡"
   â†“
2. POST /api/v1/ai/chat
   Body: {
     store_id: "uuid",
     message: "Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø²Ø±Ù‚Ø§Ø¡"
   }
   â†“
3. Backend:
   - Get current store config
   - Call OpenAI:
       System: "You are a store editor..."
       User: "Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø²Ø±Ù‚Ø§Ø¡"
       Context: current_config
   - Parse AI response â†’ new_config
   - Update store in DB
   - Return updated config
   â†“
4. Frontend:
   - Receive new config
   - Animate transition
   - Update canvas
```

### 4. Store Preview & Export

```
1. GET /api/v1/preview/{store_id}
   â†“
2. Backend:
   - Load store config from DB
   - Render sections to HTML/CSS/JS
   - Return preview URL
   â†“
3. Frontend:
   - Open in iframe or new tab

4. POST /api/v1/preview/{store_id}/save-html
   â†“
5. Backend:
   - Generate static HTML
   - Save to storage (S3/local)
   - Return download URL
```

---

## ðŸ¤– Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ù€ AI

### OpenAI Integration

```python
# services/openai_service.py

class OpenAIService:
    def __init__(self):
        self.client = OpenAI(api_key=settings.OPENAI_API_KEY)

    async def generate_store(self, description: str, template: str) -> dict:
        prompt = f"""
        You are an expert e-commerce store designer.
        Generate a store configuration based on:
        - Description: {description}
        - Template: {template}

        Return JSON with:
        - sections: array of section types
        - branding: colors, logo, fonts
        - products: sample product data
        """

        response = await self.client.chat.completions.create(
            model="gpt-4-turbo-preview",
            messages=[
                {"role": "system", "content": "You are a store builder."},
                {"role": "user", "content": prompt}
            ],
            response_format={"type": "json_object"}
        )

        return json.loads(response.choices[0].message.content)
```

### AI Chat for Store Editing

```python
async def ai_chat(store_id: UUID, message: str, db: AsyncSession):
    # Get current store config
    store = await db.get(Store, store_id)

    # Build context
    context = f"Current config: {json.dumps(store.config)}"

    # Call OpenAI
    response = await openai_service.chat(
        messages=[
            {"role": "system", "content": "Store editor assistant"},
            {"role": "user", "content": f"{context}\n\n{message}"}
        ]
    )

    # Parse and apply changes
    new_config = parse_ai_response(response)
    store.config = new_config
    await db.commit()

    return new_config
```

---

## ðŸ› ï¸ Development Workflow

### Local Development Setup

```bash
# 1. Clone repo
git clone https://github.com/wasalstor-web/AI-STORE-BUILDER.git
cd AI-STORE-BUILDER

# 2. Backend setup
pip install uv
uv pip install --system -r pyproject.toml
cp .env.example .env
alembic upgrade head
uvicorn app.main:app --reload --port 8000

# 3. Frontend setup (new terminal)
cd frontend
npm install
npm run dev  # Port 3000

# 4. Access
# API: http://localhost:8000/docs
# Frontend: http://localhost:3000
```

### Docker Compose Setup

```bash
# Start all services
docker compose up --build -d

# View logs
docker compose logs -f api

# Stop all
docker compose down

# Reset database
docker compose down -v && docker compose up --build -d
```

### Testing

```bash
# Backend tests
pytest tests/ -v --cov=app

# Frontend tests (if configured)
cd frontend
npm test

# Linting
ruff check app/ tests/
ruff format app/ tests/

cd frontend
npm run lint
```

---

## ðŸš€ Deployment Strategy

### Hostinger VPS Setup

```yaml
Server:
  IP: 147.93.120.99
  OS: Ubuntu 24.04.3 LTS
  RAM: 16GB (49% usage)
  Storage: 193GB total, 38GB used

Current Stack:
  - Supabase (13 containers)
  - PostgreSQL 15.8.1.085
  - Kong Gateway (8000/8443)

Planned Deployment:
  1. Clone repo to /var/www/ai-store-builder
  2. docker-compose.prod.yml (Nginx + Let's Encrypt)
  3. Domain: ai-store-builder.com (example)
  4. CI/CD: GitHub Actions â†’ SSH deploy
```

### Production Docker Compose

```yaml
version: "3.9"

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - api

  api:
    build: .
    env_file: .env.prod
    environment:
      DATABASE_URL: postgresql+asyncpg://user:pass@db:5432/aisb_prod
      REDIS_URL: redis://redis:6379/0
    depends_on:
      - db
      - redis

  worker:
    build: .
    command: arq app.workers.store_worker.WorkerSettings
    env_file: .env.prod
    depends_on:
      - redis

  db:
    image: postgres:16-alpine
    volumes:
      - pgdata:/var/lib/postgresql/data
    environment:
      POSTGRES_PASSWORD: ${DB_PASSWORD}

  redis:
    image: redis:7-alpine
    command: redis-server --appendonly yes

volumes:
  pgdata:
```

### CI/CD Pipeline

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Deploy via SSH
        uses: appleboy/ssh-action@v0.1.10
        with:
          host: 147.93.120.99
          username: root
          password: ${{ secrets.SSH_PASSWORD }}
          script: |
            cd /var/www/ai-store-builder
            git pull
            docker compose -f docker-compose.prod.yml up -d --build
```

---

## ðŸ§© Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ©

### 1. Authentication System

```
Components:
  - JWT (access: 15min, refresh: 7 days)
  - bcrypt password hashing
  - Middleware injection
  - Token refresh endpoint

Security:
  - CORS configured for frontend origin
  - Rate limiting (100 req/min per IP)
  - SQL injection protection (SQLAlchemy)
  - XSS protection (Pydantic validation)
```

### 2. Job Queue System

```
Technology: ARQ (Async Redis Queue)

Features:
  - Async Python workers
  - Progress tracking (0-100%)
  - Job status (queued/running/done/failed)
  - Result storage (JSONB)
  - Retry on failure (3 attempts)

Use Cases:
  - Store generation (AI calls)
  - HTML export
  - Image processing
  - Email sending
```

### 3. Template Engine

```
Structure:
  - 12 base templates
  - 21+ reusable sections
  - JSONB config storage
  - Dynamic rendering

Customization:
  - Colors, fonts, branding
  - Section reordering (drag-drop)
  - Content editing
  - AI-driven modifications
```

---

## ðŸ’Ž Design System v2.0 â€” Genius Grade

### ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯

ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø§ØªØ¨Ø§Ø¹ Ù…Ù†Ù‡Ø¬ÙŠØ©:

- **Linear.app** â€” Ù†Ø¸Ø§ÙØ© ÙˆØªØ±ÙƒÙŠØ²
- **Stripe.com** â€” Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆÙˆØ¶ÙˆØ­
- **Apple** â€” Dark Mode Ø¨Ø¯ÙØ¡
- **Vercel** â€” Ø³Ø±Ø¹Ø© ÙˆØ¨Ø³Ø§Ø·Ø©
- **Figma** â€” Ø¯Ù‚Ø© Ø¨ÙƒØ³Ù„ Ù…Ø«Ø§Ù„ÙŠØ©

### Key Changes

| Ø¬Ø§Ù†Ø¨           | Ù‚Ø¨Ù„               | Ø¨Ø¹Ø¯                   |
| -------------- | ----------------- | --------------------- |
| **Tailwind**   | v3 + config file  | v4 CSS-first (@theme) |
| **Colors**     | 2 primary colors  | 1 signature (#6366F1) |
| **Neutrals**   | True black (#000) | Blue-tinted (#0B0D14) |
| **Contrast**   | WCAG AA           | **WCAG AAA** (7:1+)   |
| **Type Scale** | Random            | 1.125x ratio          |
| **Spacing**    | Mixed             | 4px grid system       |
| **Shadows**    | 3 levels          | 4 levels + 2 glow     |
| **Animations** | Inconsistent      | GPU-only + easing     |
| **Components** | 9 specs           | **16 components**     |

### Files Structure

```
.figma/
â”œâ”€â”€ design-system-rules.md        # 640+ lines, complete spec
â”œâ”€â”€ component-specifications.md   # 750+ lines, 16 components
â”œâ”€â”€ design-showcase.html          # Interactive gallery
â””â”€â”€ README.md                     # Design docs hub

frontend/src/
â””â”€â”€ index.css                     # 700+ lines, Tailwind v4 + @theme
```

### Design Tokens (Ù…Ø®ØªØµØ±)

```css
/* Primary */
--color-primary: #6366f1; /* Indigo Violet */
--color-accent: #22d3ee; /* Cyan */

/* Neutrals (Blue-tinted, no true black) */
--color-dark-bg: #0b0d14;
--color-dark-surface: #111318;
--color-dark-card: #15171e;
--color-dark-border: #23262f;

/* Text (4 levels only) */
--color-text-primary: #f1f3f9; /* 15.8:1 AAA */
--color-text-secondary: #9295a4; /* 7.1:1 AAA */
--color-text-muted: #6b6f80; /* 4.6:1 AA */

/* Type Scale (1.125x) */
--text-xs: 12px;
--text-sm: 14px;
--text-base: 16px;
--text-xl: 24px;
--text-2xl: 32px;
--text-3xl: 48px;
--text-4xl: 64px;

/* Spacing (4px grid) */
--space-1: 4px;
--space-2: 8px;
--space-4: 16px;
--space-6: 24px;
--space-8: 32px;
--space-12: 48px;

/* Shadows (4 levels) */
--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3)...;
--shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3)...;
--shadow-lg: 0 12px 24px rgba(0, 0, 0, 0.35)...;
--shadow-xl: 0 24px 48px rgba(0, 0, 0, 0.4)...;

/* Animations */
--duration-micro: 150ms;
--duration-normal: 250ms;
--duration-macro: 400ms;
--ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
```

---

## ðŸ“ˆ Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

### Phase 1: MVP Complete âœ…

- [x] Multi-tenant auth
- [x] Store generation API
- [x] 12 templates
- [x] AI chat builder
- [x] Drag-drop editor
- [x] RTL Arabic UI
- [x] Dark theme (Genius Grade)
- [x] Docker deployment
- [x] Design system v2.0

### Phase 2: E-commerce Core (ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ±)

- [ ] Products API + CRUD
- [ ] Categories + filtering
- [ ] Image upload (S3/local)
- [ ] Shopping cart
- [ ] Checkout flow
- [ ] Order management

### Phase 3: Payments & Shipping

- [ ] Moyasar integration (Saudi)
- [ ] Tap Payments (MENA)
- [ ] Aramex shipping API
- [ ] SMSA shipping API
- [ ] Order tracking

### Phase 4: Advanced Features

- [ ] Custom domains
- [ ] Email verification
- [ ] Analytics dashboard
- [ ] SEO optimization
- [ ] Template marketplace
- [ ] Mobile app (React Native)

### Phase 5: Scale & Optimize

- [ ] CDN integration
- [ ] Multi-region deployment
- [ ] Performance monitoring
- [ ] A/B testing
- [ ] Customer support chat

---

## ðŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```yaml
Backend:
  Lines of Code: ~8,000
  API Endpoints: 25+
  Database Tables: 7
  Models: 7
  Services: 5
  Workers: 1
  Tests: 30+

Frontend:
  Lines of Code: ~12,000
  Pages: 9
  Components: 50+
  Templates: 12
  Sections: 21+
  Design Tokens: 100+
  CSS Lines: 700+

Design System:
  Documentation: 1,400+ lines
  Components Specified: 16
  Color Tokens: 60+
  Typography Tokens: 8
  Spacing Tokens: 12
  Shadow Tokens: 6
  Animation Tokens: 4

Infrastructure:
  Docker Services: 4
  Database: PostgreSQL 16
  Cache: Redis 7
  Queue: ARQ
  Total Containers: 4
```

---

## ðŸŽ“ ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Technical Decisions Explained

1. **FastAPI vs NestJS**
   - FastAPI Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ø¨Ø±ÙˆØªÙˆØªØ§ÙŠØ¨ (3x Ø£Ù‚Ù„ ÙƒÙˆØ¯)
   - Swagger ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¯ÙˆÙ† setup
   - Python Ø£ÙØ¶Ù„ Ù„Ù€ AI/ML integration

2. **SQLAlchemy 2.0 Async**
   - Ø£Ù†Ø¶Ø¬ ORM ÙÙŠ Python
   - Async native performance
   - Alembic migrations Ù‚ÙˆÙŠØ©

3. **ARQ vs Celery**
   - ARQ Ø£Ø®Ù 10x
   - Ù†ÙØ³ Redis infrastructure
   - Python-native async

4. **Row-Level Tenancy**
   - Ø£Ø¨Ø³Ø· ÙÙŠ MVP
   - Ø³Ù‡Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù€ schema-per-tenant
   - PostgreSQL RLS ready

5. **Tailwind v4 CSS-first**
   - Zero config files
   - @theme {} ÙÙŠ CSS
   - Ø£Ø³Ø±Ø¹ build time
   - Ø£ÙØ¶Ù„ DX

6. **React 19 + Zustand**
   - React 19 Ø£Ø³Ø±Ø¹
   - Zustand Ø£Ø¨Ø³Ø· Ù…Ù† Redux
   - TanStack Query Ù„Ù„Ù€ server state

---

> **Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 2026-02-09  
> **Ø§Ù„Ù†Ø³Ø®Ø©:** v2.0.0 Genius Grade  
> **Ø§Ù„Ø­Ø§Ù„Ø©:** Production-Ready Architecture

**ØªÙ… Ø¨Ù†Ø§Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø©:** Wahed Ahmed  
**Ø§Ù„ØªØ±Ø®ÙŠØµ:** MIT License
